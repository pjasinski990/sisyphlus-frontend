.wavy {
    display: inline-block;
    white-space: pre-wrap;
    --wave-amp: 0.35em;
    --wave-period: 1.1s;
    --wave-stagger: 0.06s;
}

/* OUTER span: smooth vertical bob + slight tilt */
.wavy-w {
    display: inline-block;
    transform-origin: 50% 80%;
    animation-name: wave;
    animation-duration: var(--wave-period);
    animation-timing-function: linear;        /* fixes “pause” at turnpoint */
    animation-iteration-count: infinite;
    animation-delay: calc(var(--i) * var(--wave-stagger));
    will-change: transform;
}

/* INNER span: micro shake (random per letter) */
.wavy-s {
    display: inline-block;
    animation-name: shake;
    animation-duration: var(--shake-period, 160ms);
    animation-timing-function: linear;
    animation-iteration-count: infinite;
    animation-delay: var(--shake-delay, 0ms);
    will-change: transform;
}

/* Wave keyframes: use translate3d for GPU compositing */
@keyframes wave {
    0%   { transform: translate3d(0, 0, 0) rotate(0deg); }
    25%  { transform: translate3d(0, calc(-1 * var(--wave-amp)), 0) rotate(-2deg); }
    50%  { transform: translate3d(0, 0, 0) rotate(0deg); }
    75%  { transform: translate3d(0, var(--wave-amp), 0) rotate(2deg); }
    100% { transform: translate3d(0, 0, 0) rotate(0deg); }
}

/* Shake keyframes: tiny irregular jitter; scaled by --shake-amp */
@keyframes shake {
    0%   { transform: translate3d(0, 0, 0) rotate(0deg); }
    20%  { transform: translate3d(calc(var(--shake-amp) *  0.50), calc(var(--shake-amp) * -0.40), 0) rotate(-0.3deg); }
    40%  { transform: translate3d(calc(var(--shake-amp) * -0.35), calc(var(--shake-amp) *  0.30), 0) rotate(0.4deg); }
    60%  { transform: translate3d(calc(var(--shake-amp) *  0.40), calc(var(--shake-amp) *  0.20), 0) rotate(-0.2deg); }
    80%  { transform: translate3d(calc(var(--shake-amp) * -0.20), calc(var(--shake-amp) * -0.30), 0) rotate(0.3deg); }
    100% { transform: translate3d(0, 0, 0) rotate(0deg); }
}

/* Motion safety */
@media (prefers-reduced-motion: reduce) {
    .wavy-w, .wavy-s { animation: none !important; }
}
